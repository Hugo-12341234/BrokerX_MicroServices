### UC-06 — Modification / Annulation d’un ordre

Objectif:
Offrir la possibilité de modifier ou d’annuler un ordre actif dans le carnet tant qu’il n’est pas
totalement exécuté. Ce cas donne de la flexibilité aux clients pour gérer leurs stratégies de
trading.

Acteur principal : Client

Secondaires : Moteur d’appariement, Portefeuilles

Déclencheur : Le Client modifie ou annule un ordre Working.

Préconditions : Ordre existant, non entièrement exécuté, modifiable.

Postconditions (succès) : Ordre mis à jour ou annulé; journal d’audit.

Postconditions (échec) : Aucune modification.

Flux principal
1. Le Client envoie Cancel ou Replace (nouvelles valeurs : quantité, prix).
2. Le Système verrouille l’ordre (optimisme/pessimisme), vérifie état.
3. Si Replace, repasse contrôles pré-trade; si Cancel, retire du carnet.
4. Retourne Cancel/Replace ACK.
   
Alternatifs / Exceptions :
   - A1. Exécution concurrente partielle : seules quantités restantes modifiables.
   - E1. Ordre déjà exécuté/annulé : Reject (avec dernier état).
   
Critère d'acceptation :
L’utilisateur modifie un ordre limite d’achat de 10 actions AAPL à 100 $ en ajustant le prix à 101
$.
Résultat attendu : l’ordre est mis à jour dans le carnet et le système émet un accusé de
modification (Replace ACK).
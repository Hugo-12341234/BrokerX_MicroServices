### UC-04 — Abonnement aux données de marché

Objectif:
Offrir aux clients un accès en temps réel aux cotations et carnets d’ordres pour les
instruments suivis. Ce cas permet aux investisseurs de prendre des décisions éclairées grâce à
des données actualisées.

Acteur principal : Client

Secondaires : Fournisseur de données de marché simulé

Déclencheur : Le Client ouvre la vue Marché ou s’abonne à des symboles.

Préconditions : Session valide.

Postconditions (succès) : Flux temps réel établi (WebSocket/Server-Sent Events (SSE)),
latence < 200 ms.
Postconditions (échec) : Aucun flux établi.

Flux principal
1. Le Client demande l’abonnement à une liste de symboles.
2. Le Système autorise (quotas, rate-limit).
3. Le Système ouvre un canal (WS/SSE) et pousse cotations/ordre book snapshots + diff.
4. Le Client reçoit updates (top of book, OHLC, trades).
 
Critère d'acceptation :
Un utilisateur connecté s’abonne au symbole boursier AAPL.
Résultat attendu : le système transmet en temps réel les cotations et le carnet d’ordres du titre
AAPL.
@startuml
' ERD Matching-Service
entity "OrderBook" as ob {
  id : BIGSERIAL [PK] NOT NULL
  clientOrderId : VARCHAR(64)
    side : VARCHAR(16) NOT NULL
  symbol : VARCHAR(16) NOT NULL
    type : VARCHAR(16) NOT NULL
    quantity : INT NOT NULL
    price : DOUBLE PRECISION
    duration : VARCHAR(16) NOT NULL
    status : VARCHAR(16) NOT NULL
    reject_reason : VARCHAR(255)
    remaining_quantity : INT NOT NULL
  created_at : TIMESTAMP NOT NULL
}
entity "ExecutionReport" as er {
  id : BIGSERIAL [PK] NOT NULL
  order_book_id : BIGINT [FK] NOT NULL
  order_id : BIGINT NOT NULL
  exec_type : VARCHAR(32) NOT NULL
  quantity : INT NOT NULL
  price : DOUBLE PRECISION NOT NULL
  timestamp : TIMESTAMP NOT NULL
  buyerUserId : BIGINT NOT NULL
  sellerUserId : BIGINT NOT NULL
  symbol : VARCHAR(16) NOT NULL
}
ob ||--o{ er : "génère"
@enduml